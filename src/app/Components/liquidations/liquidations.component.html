<body>

<div id="title">
  <br>
  <h1>LIQUIDACIONES</h1>
  <hr id="first">
  <hr id="second">
  <br><br>
</div>
<div class="container" id="form-title">
  <h2>Ingrese Liquidación</h2>
  <br>
</div>
<br>
<div class="container" id="general">
  <br>
  <div class="row">
    <form class="form-horizontal" (ngSubmit)="createPaydayMaster(liquidation)" #postForm='ngForm'>
      <fieldset>
        <div class="form-group">
          <label class="col-md-4 control-label"  for="inputType">Tipo de liquidación:</label>
          <div class="col-md-4">
            <select id="typeMaster" class="form-control" #payday_type='ngModel' [(ngModel)]='liquidation.payday_type' name="typeMaster">
              <option>Nómina</option>
              <option>Prima</option>
              <option>Cesantías</option>
              <option>Intereses de Cesantias</option>
            </select> 
          </div>      
        </div>
        <div class="form-group">
          <label class="col-md-4 control-label"  for="inputDate">Fecha:</label>
          <div class="col-md-4">
            <input id="dateMaster" type="datetime-local" class="form-control" #description='ngModel' [(ngModel)]='liquidation.payday_date' name="dateMaster"><br>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-4 control-label"  for="inputFondDocNumber">Descripción:</label> 
          <div class="col-md-4"> 
            <input id="descMaster" class="form-control input-md" required="" type="text" #description='ngModel' [(ngModel)]='liquidation.description' name="descMaster">  
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-4 control-label" for="submit"></label>
          <div class="col-md-4">
            <button type="submit" class="btn btn-primary" id="setLiquidation" (click)="loadLiquidations()">Liquidar</button>
          </div>
        </div>
      </fieldset>
    </form>
  </div>
  <br>
</div>
<br>
<div class="container">
  <h2>Ver liquidaciones recientes</h2>
  <br>
</div>
<br>


<div class="row">
      <div class="col-md-10 col-md-offset-1">
        <div class="panel panel-default panel-table">
          <div class="panel-heading">
             <div class="row">
              <div class="col col-xs-6">
                <h3 class="panel-title">
                  <button type="button" class="btn btn-default btn-circle" *ngIf="generalp">
                  {{ generalp.length }}
                  </button>
                Parametros generales registrados
                </h3>
              </div>
              </div>
            </div>
            <div class="panel-body">
              <table class="table table-striped table-bordered table-list">
                <thead>
                 <tr>
                    <th></th>
                     <th>Tipo</th>
                     <th>Fecha</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td colspan="5" *ngIf="generalp.length == 0">No se encontraron parametros registrados</td>
                  </tr>
                  <tr *ngFor="let liquidation of liquidations" [class.selected]="liquidation === selectedLiquidation" (click)="onSelect(liquidation)">
                    <td>
                      <button type="button" class="btn btn-danger btn-sm" (click)="deletePaydayMaster(liquidation.id)" >
                      <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                      </button>
                   </td>
                   <td>{{liquidation.payday_type}}</td>
                   <td>{{liquidation.payday_date}}</td>
                </tr>
                </tbody>
              </table>
            </div>
            <div class="panel-footer">
            </div>
          </div>
        </div>
      </div>

<div *ngIf="selectedLiquidation"></div>

</body>